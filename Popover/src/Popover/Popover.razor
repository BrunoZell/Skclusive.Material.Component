@namespace Skclusive.Material.Popover
@inherits MaterialComponent

<Modal
    Absolute="@Absolute"
    DisablePortal="@DisablePortal"
    PortalTargetRef="@PortalTargetRef"
    PortalTargetBodyRef="@PortalTargetBodyRef"
    BackdropClass="@_BackdropClass"
    BackdropStyle="@_BackdropStyle"
    Open="@Open"
    Class="@_Class"
    Style="@_Style"
    RootRef="@RootRef"
    OnClose="@HandleClose"
    OnKeyDown="@HandleKeyDownAsync"
    OnEscapeKeyDown="@HandleEscapeKeyDown"
    BackdropInvisible="@BackdropInvisible"
    @attributes="Attributes">
    <BackdropContent
        Context="ModalContext">
        <SimpleBackdrop
            Class="@ModalContext.BackdropClass"
            Style="@ModalContext.BackdropStyle"
            Open="@ModalContext.Open"
            OnClick="@ModalContext.OnBackdropClick"
            Invisible="@ModalContext.BackdropInvisible" />
    </BackdropContent>
    <ChildContent
        Context="ModalContext">
        <Fade
            RootRef="@ModalContext.RefBack"
            Appear
            In="@ModalContext.Open"
            TransitionDuration="@TransitionDuration"
            AppearTimeout="@AppearTimeout"
            EnterTimeout="@EnterTimeout"
            ExitTimeout="@ExitTimeout"
            MountOnEnter="@MountOnEnter"
            UnmountOnExit="@UnmountOnExit"
            OnEnter="@(CreateOnEnter(@ModalContext.OnEnter))"
            OnExited="@(CreateOnExited(@ModalContext.OnExited))"
            OnEntering="@HandleEnteringAsync"
            OnEntered="@HandleEnteredAsync"
            OnExit="@HandleExitAsync"
            OnExiting="@HandleExitingAsync"
            role="none presentation"
            Context="FadeContext">
            <Paper
                RootRef="@(new DelegateReference(FadeContext.RefBack, PaperRef))"
                data-mui-test="Popover"
                Elevation="@Elevation"
                Square="@Square"
                Class="@_PaperClass"
                Style="@_PaperStyle"
                @onclick:stopPropagation>
                @ChildContent
            </Paper>
        </Fade>
    </ChildContent>
</Modal>